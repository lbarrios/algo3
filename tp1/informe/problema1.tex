% ------ headers globales y begin ---------------
\documentclass[11pt, a4paper, twoside]{article}
\usepackage{header_tp1}

\begin{document}{}
% -----------------------------------------------

\subsubsection{Descripción}
Un inspector de un puesto de control de camiones quiere contratar a un experto por $D$ días consecutivos para que éste pueda detectar si algún camión de la empresa \textit{il Ravioli} está transportando sustancias ilegales. Lo que se quiere es maximizar la cantidad de camiones inspeccionados, es decir que la mayor cantidad de camiones tienen que estar pasando por el puesto durante el período de contración del experto. Se conocen los días en que cada uno de los $n$ camiones de la empresa estarán pasando, pero esta información podría no estar dada en orden cronológico. Además, el problema se deberá resolver con una complejidad estrictamente mejor que $\mathcal{O}(n^{2})$, siendo $n$ la cantidad total de camiones. El resultado que se deberá obtener es el día inicial en que convendría contratar al experto y el total de camiones que serán inspeccionados por el mismo.\\
\\
Por ejemplo: 
\\
Si se contrata al experto por $D=3$ días consecutivos y en total hay $n=20$ camiones sospechosos ($c1,c2,...,c20$) que pasan por el puesto según se muestra a continuación: \\ 

\begin{itemize}
	\item Primer caso:
\end{itemize} 

\begin{tabular}{|l|l|l|l|l|l|l|l|l|l|l|}
	\hline
	Día          &  $1$  & $2$   & $3$   & $4$   & $5$   & $6$ & $7$ & $8$ & $9$   & $10$  \\
	\hline
	Camiones     &  $c5$ & $c10$ & $c14$ & $c4$  & $c15$ & $c11$ &   &     & $c3$  & $c1$  \\
				 &  $c6$ &       &       &       & $c16$ & $c12$ &   &     & $c20$ & $c2$  \\    
				 &	$c7$ &       &       &       & $c17$ & $c13$ &   &     &       &       \\  
				 &	$c8$ &       &       &       & $c18$ &       &   &     &       &       \\
				 &	$c9$ &       &       &       & $c19$ &       &   &     &       &       \\
	\hline
\end{tabular} \\


El primer día del período de contratación será $d=4$ y habrán sido inspeccionados, durante los días Día4, Día5 y Día6, un total de $c=9$ camiones. \\

\begin{itemize}
	\item Segundo caso:
\end{itemize} 

\begin{tabular}{|l|l|l|l|l|l|l|l|}
	\hline
	Día          &  $1$  & $2$   & $3$   & $4$    & $5$ & $6$ & $7$   \\
	\hline
	Camiones     &  $c5$ &       &       & $c15$  &     &     & $c11$ \\
				 &  $c6$ &       &       & $c16$  &     &     & $c12$ \\    
				 &	$c7$ &       &       & $c17$  &     &     & $c13$ \\  
				 &	$c8$ &       &       & $c18$  &     &     & $c3$  \\
				 &	$c9$ &       &       & $c19$  &     &     & $c20$ \\
				 &	$c10$&       &       &        &     &     &       \\
				 &	$c14$&       &       &        &     &     &       \\
				 &	$c4$ &       &       &        &     &     &       \\
				 &	$c1$ &       &       &        &     &     &       \\
				 &	$c2$ &       &       &        &     &     &       \\
	\hline
\end{tabular} \\

Para este caso, el primer día del período de contratación será $d=1$ y habrán sido inspeccionados, durante los días Día1, Día2 y Día3, un total de $c=10$ camiones. 


\subsubsection{Hipótesis de resolución}
esta en el jpg
\subsubsection{Justificación formal de correctitud}
Sabemos que la soluci\'on pertenece al conjunto {d1, ... , dn}. Nuestro algoritmo itera sobre cada elemento di del conjunto calculando P(di), y guardando el elemento e con P(e) m\'aximo encontrado hasta el momento. Al final de las iteraciones, tenemos guardado el elemento e con P(e) maximo en todo el conjunto. Devolvemos e y P(e).
\subsubsection{Cota de complejidad temporal}
Aca hace falta un pseudocodigo mas detallado. Puedo hacerlo bien simple sin las optimizaciones. Quizas no. despues se pueden explicar las optimizaciones para la parte de experimentacion, ya que la complejidad teorica es la misma.
ordenar(d) //O(n log(n))
der = 1
for izq in 1..n :
    while d\[der\] - d\[izq\] < D and der < n:
        der += 1
    si es necesario actualizo //O(1)

Consideremos la complejidad del ciclo for. A lo largo del ciclo se van actualizando izq y der, y se va guardando el maximo que lleva  en si O(1).
¿Cuántas veces se actualizan izq y der? Pues, como van en forma creciente de 1 a n, exactamente n veces cada una. El ciclo for tiene complejidad O(2n) = O(n)
La complejidad del algoritmo es finalmente O(n log n).

\subsubsection{Verificación mediante casos de prueba}

A continuación presentamos distintas instancias que sirven para verificar que el programa funciona correctamente. \\ 
\\
Input: [D n $d_1$...$d_n$], Output: [d c] \\
\\
D: cant. de días de contratación del experto \\
n: cant.  total de camiones que pasan por el puesto \\
$d_i$ con $1 \le i \le n$: días de llegada de los camiones \\
d: día inicial del período de contratación del experto \\
c: cant. de camiones inspeccionados por el experto \\  
\\
Sea $L$ el intervalo de días en que llegan los camiones. \\
$L$ $=$ (máx $d_i$ $-$ mín $d_i$ $+ 1$) con $1 \le i \le n$. \\

De los datos de entrada y salida sabemos que: 

\begin{itemize}
    \item $1$ $\le$ D, n, $d_i$ (con $1$ $\le$ i $\le$ n).
	\item $1 \le $ c $\le$ n 
	\item $1 \le $ mín $d_i$ $\le$ d $\le$ máx $d_i$ 
\end{itemize}

Entonces, podemos separar el conjunto de soluciones en los siguientes casos: \\

\begin{tabular}{|l|l|l|l|}
	\hline
	Caso &  Condición  						              & Ej.Input      & Ej.Output \\
	\hline
	$1$  &  D$=$L, d$=$mín $d_i$, c$=$n    				  & 3 3 1 2 3     & 1 3 \\	
	$2$  &	D$>$L, d$=$mín $d_i$, c$=$n     		      & 5 3 1 2 3     & 1 3 \\
	\hline	
	$3$  &	D$<$L, d$=$mín $d_i$, c$<$n     			  & 3 4 1 2 5 1   & 1 3 \\
	$4$  &	D$<$L, mín $d_i$ $<$ d $<$ máx $d_i$, c$<$n   & 2 5 1 3 4 7 4 & 3 3 \\
	$5$  &	D$=1$, d$=$máx $d_i$, c$<$n     			  & 1 4 1 5 5 5   & 5 3 \\	
	\hline
\end{tabular} \\

Si c$=$n podemos deducir que sólo es posible que d$=$mín $d_i$ y que D$\ge$L (casos $1,2$). De no ser así, quedarían camiones sin inspeccionar y eso estaría contradiciendo que c$=$n. En cambio si c$<$n, por lo que mencionamos anteriormente, sólo nos queda que el período de contratación del experto sea menor al intervalo $L$ (casos $3,4,5$). \\
Estos $5$ casos cubrirían todo el espacio de soluciones. Ejecutamos distintos ejemplos correspondientes a cada uno de ellos y obtuvimos la respuesta esperada. Por lo tanto, podemos concluir que el comportamiento del programa es correcto. 

\subsubsection{Medición empírica de la performance}

% -----------------------------------------------
\end{document}
